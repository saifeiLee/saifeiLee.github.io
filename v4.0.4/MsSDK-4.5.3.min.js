!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MsSDK=t():e.MsSDK=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=173)}([function(e,t,n){var r=n(35);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){"use strict";var r=n(54),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){var r=n(36),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(75),i=n(78);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function l(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):v(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var u=c.length,d=v(c,u);for(n=0;n<u;++n)o(d[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){var r=n(96);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(10),i=n(67),o=n(68),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(2).Symbol;e.exports=r},function(e,t,n){var r,i,o=n(52),a=n(53),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,d=t||[],l=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==f){var h=o();null==l&&(l=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==f&&(f=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:c+1,m=p-s+(v-c)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,c=v,i=f;var _=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;d[u++]=_>>>24&255,d[u++]=_>>>16&255,d[u++]=_>>>8&255,d[u++]=255&_;var g=p/4294967296*1e4&268435455;d[u++]=g>>>8&255,d[u++]=255&g,d[u++]=g>>>24&15|16,d[u++]=g>>>16&255,d[u++]=f>>>8|128,d[u++]=255&f;for(var y=0;y<6;++y)d[u+y]=l[y];return t||a(d)}},function(e,t,n){var r=n(3),i=n(65),o=n(69),a=n(93);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){var r=n(4)(Object,"create");e.exports=r},function(e,t,n){var r=n(83),i=n(84),o=n(85),a=n(86),s=n(87);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(40);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(89);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(21),i=n(41);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],d=o?o(n[u],e[u],u,n,e):void 0;void 0===d&&(d=e[u]),a?i(n,u,d):r(n,u,d)}return n}},function(e,t,n){var r=n(9),i=n(5);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(4)(n(2),"Map");e.exports=r},function(e,t,n){var r=n(18);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var r=n(41),i=n(40),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(43),i=n(110),o=n(46);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){var r=n(106),i=n(5),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(36),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(24)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(118),i=n(48),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(122),i=n(19),o=n(123),a=n(124),s=n(125),c=n(9),u=n(39),d=u(r),l=u(i),f=u(o),h=u(a),p=u(s),v=c;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||o&&"[object Promise]"!=v(o.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case d:return"[object DataView]";case l:return"[object Map]";case f:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,n){var r=n(128);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t){function n(e,t,r,i){let o,a,s,c,u,d,l=isFinite(r)?r:0,f=15;switch(t&&(this.encoding=t.toString()),this.encoding){case"UTF-8":c=n.putUTF8CharCode,u=n.getUTF8CharLength,o=Uint8Array;break;case"UTF-16":c=n.putUTF16CharCode,u=n.getUTF16CharLength,o=Uint16Array;break;case"UTF-32":o=Uint32Array,f&=14;break;default:o=Uint8Array,f&=14}e:switch(typeof e){case"string":f&=7;break;case"object":switch(e.constructor){case n:f&=3;break e;case String:f&=7;break e;case ArrayBuffer:a=new o(e),d="UTF-32"===this.encoding?e.byteLength>>>2:"UTF-16"===this.encoding?e.byteLength>>>1:e.byteLength,s=0!==l||isFinite(i)&&i!==d?new o(e,l,isFinite(i)?i:d-l):a;break e;case Uint32Array:case Uint16Array:case Uint8Array:o=e.constructor,d=e.length,a=0===e.byteOffset&&e.length===(o===Uint32Array?e.buffer.byteLength>>>2:o===Uint16Array?e.buffer.byteLength>>>1:e.buffer.byteLength)?e:new o(e.buffer),s=0!==l||isFinite(i)&&i!==d?e.subarray(l,isFinite(i)?l+i:d):e;break e;default:a=new o(e),d=a.length,s=0!==l||isFinite(i)&&i!==d?a.subarray(l,isFinite(i)?l+i:d):a}break;default:a=s=new o(Number(e)||0)}if(f<8){let t,g,y,b,S,w,M;switch(4&f?(t=e,g=d=t.length,f^="UTF-32"===this.encoding?0:2,l=y=r?Math.max((g+r)%g,0):0,S=b=(Number.isInteger(i)?Math.min(Math.max(i,0)+l,g):g)-1):(t=e.rawData,d=e.makeIndex(),l=y=r?Math.max((d+r)%d,0):0,g=Number.isInteger(i)?Math.min(Math.max(i,0),d-y):d,S=b=g+y,"UTF-8"===e.encoding?(w=n.getUTF8CharLength,M=n.loadUTF8CharCode):"UTF-16"===e.encoding?(w=n.getUTF16CharLength,M=n.loadUTF16CharCode):f&=1),(0===g||f<4&&t.encoding===this.encoding&&0===y&&g===d)&&(f=7),f){case 0:a=new o(g);for(var h=0;h<g;a[h]=t[l+h++]);break;case 1:g=0;for(var p=l;p<S;p++)g+=u(t[p]);a=new o(g);for(p=l,h=0;h<g;p++)h=c(a,t[p],h);break;case 2:for(l=0,m=0;m<y;m++)l+=w(v=M(t,l));a=new o(g);for(p=l,h=0;h<g;p+=w(v),h++)v=M(t,p),a[h]=v;break;case 3:var v;g=0;var m=0;for(p=0;m<b;p+=w(v))v=M(t,p),m===y&&(l=p),++m>y&&(g+=u(v));a=new o(g);for(p=l,h=0;h<g;p+=w(v))h=c(a,v=M(t,p),h);break;case 4:a=new o(g);for(var _=0;_<g;_++)a[_]=255&t.charCodeAt(_);break;case 5:g=0;for(let e=0;e<d;e++)e===y&&(l=g),g+=u(t.charCodeAt(e)),e===b&&(S=g);a=new o(g);for(h=0,m=0;h<g;m++)h=c(a,t.charCodeAt(m),h);break;case 6:a=new o(g);for(_=0;_<g;_++)a[_]=t.charCodeAt(_);break;case 7:a=new o(g?t:0)}s=f>3&&(l>0||S<a.length-1)?a.subarray(l,S):a}this.buffer=a.buffer,this.bufferView=a,this.rawData=s,Object.freeze(this)}Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&e>-9007199254740992&&e<9007199254740992&&Math.floor(e)===e}),n.loadUTF8CharCode=function(e,t){const n=e.length,r=e[t];return r>251&&r<254&&t+5<n?1073741824*(r-252)+(e[t+1]-128<<24)+(e[t+2]-128<<18)+(e[t+3]-128<<12)+(e[t+4]-128<<6)+e[t+5]-128:r>247&&r<252&&t+4<n?(r-248<<24)+(e[t+1]-128<<18)+(e[t+2]-128<<12)+(e[t+3]-128<<6)+e[t+4]-128:r>239&&r<248&&t+3<n?(r-240<<18)+(e[t+1]-128<<12)+(e[t+2]-128<<6)+e[t+3]-128:r>223&&r<240&&t+2<n?(r-224<<12)+(e[t+1]-128<<6)+e[t+2]-128:r>191&&r<224&&t+1<n?(r-192<<6)+e[t+1]-128:r},n.putUTF8CharCode=function(e,t,n){let r=n;return t<128?e[r++]=t:t<2048?(e[r++]=192+(t>>>6),e[r++]=128+(63&t)):t<65536?(e[r++]=224+(t>>>12),e[r++]=128+(t>>>6&63),e[r++]=128+(63&t)):t<2097152?(e[r++]=240+(t>>>18),e[r++]=128+(t>>>12&63),e[r++]=128+(t>>>6&63),e[r++]=128+(63&t)):t<67108864?(e[r++]=248+(t>>>24),e[r++]=128+(t>>>18&63),e[r++]=128+(t>>>12&63),e[r++]=128+(t>>>6&63),e[r++]=128+(63&t)):(e[r++]=252+t/1073741824,e[r++]=128+(t>>>24&63),e[r++]=128+(t>>>18&63),e[r++]=128+(t>>>12&63),e[r++]=128+(t>>>6&63),e[r++]=128+(63&t)),r},n.getUTF8CharLength=function(e){return e<128?1:e<2048?2:e<65536?3:e<2097152?4:e<67108864?5:6},n.loadUTF16CharCode=function(e,t){const n=e[t];return n>55231&&t+1<e.length?(n-55296<<10)+e[t+1]+9216:n},n.putUTF16CharCode=function(e,t,n){let r=n;return t<65536?e[r++]=t:(e[r++]=55232+(t>>>10),e[r++]=56320+(1023&t)),r},n.getUTF16CharLength=function(e){return e<65536?1:2},n.b64ToUint6=function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},n.uint6ToB64=function(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65},n.bytesToBase64=function(e){let t=(3-e.length%3)%3,r="";for(var i,o=e.length,a=0,s=0;s<o;s++)i=s%3,a|=e[s]<<(16>>>i&24),2!==i&&e.length-s!=1||(r+=String.fromCharCode(n.uint6ToB64(a>>>18&63),n.uint6ToB64(a>>>12&63),n.uint6ToB64(a>>>6&63),n.uint6ToB64(63&a)),a=0);return 0===t?r:r.substring(0,r.length-t)+(1===t?"=":"==")},n.base64ToBytes=function(e,t){const r=e.replace(/[^A-Za-z0-9\+\/]/g,""),i=r.length,o=t?Math.ceil((3*i+1>>>2)/t)*t:3*i+1>>>2,a=new Uint8Array(o);for(var s,c,u=0,d=0,l=0;l<i;l++)if(c=3&l,u|=n.b64ToUint6(r.charCodeAt(l))<<18-6*c,3===c||i-l==1){for(s=0;s<3&&d<o;s++,d++)a[d]=u>>>(16>>>s&24)&255;u=0}return a},n.makeFromBase64=function(e,t,r,i){return new n("UTF-16"===t||"UTF-32"===t?n.base64ToBytes(e,"UTF-16"===t?2:4).buffer:n.base64ToBytes(e),t,r,i)},n.prototype.encoding="UTF-8",n.prototype.makeIndex=function(e,t){let n,r=this.rawData,i=r.length,o=t||0,a=o,s=isNaN(e)?1/0:e;if(e+1>r.length)throw new RangeError("StringView.prototype.makeIndex - The offset can't be major than the length of the array - 1.");switch(this.encoding){case"UTF-8":var c;for(n=0;a<i&&n<s;n++)a+=(c=r[a])>251&&c<254&&a+5<i?6:c>247&&c<252&&a+4<i?5:c>239&&c<248&&a+3<i?4:c>223&&c<240&&a+2<i?3:c>191&&c<224&&a+1<i?2:1;break;case"UTF-16":for(n=o;a<i&&n<s;n++)a+=r[a]>55231&&a+1<r.length?2:1;break;default:a=n=isFinite(e)?e:i-1}return e?a:n},n.prototype.toBase64=function(e){return n.bytesToBase64(e?this.bufferView.constructor===Uint8Array?this.bufferView:new Uint8Array(this.buffer):this.rawData.constructor===Uint8Array?this.rawData:new Uint8Array(this.buffer,this.rawData.byteOffset,this.rawData.length<<(this.rawData.constructor===Uint16Array?1:2)))},n.prototype.subview=function(e,t){let r,i,o,a,s,c="UTF-8"===this.encoding||"UTF-16"===this.encoding,u=this.rawData.length;return 0===u?new n(this.buffer,this.encoding):(s=c?this.makeIndex():u,o=e?e+1>s?s:Math.max((s+e)%s,0):0,a=Number.isInteger(t)?Math.max(t,0)+o>s?s-o:t:s-o,0===o&&a===s?this:(c?(i=o<s?this.makeIndex(o):s,r=a?this.makeIndex(a,i)-i:0):(i=o,r=a),"UTF-16"===this.encoding?i<<=1:"UTF-32"===this.encoding&&(i<<=2),new n(this.buffer,this.encoding,this.rawData.byteOffset+i,r)))},n.prototype.forEachChar=function(e,t,r,i){let o,a,s=this.rawData;if("UTF-8"===this.encoding||"UTF-16"===this.encoding){let d,l;"UTF-8"===this.encoding?(d=n.getUTF8CharLength,l=n.loadUTF8CharCode):"UTF-16"===this.encoding&&(d=n.getUTF16CharLength,l=n.loadUTF16CharCode),a=isFinite(r)?this.makeIndex(r):0,o=isFinite(i)?this.makeIndex(i,a):s.length;for(var c,u=0;a<o;u++)c=l(s,a),t?e.call(t,c,u,a,s):e(c,u,a,s),a+=d(c)}else for(a=isFinite(r)?r:0,o=isFinite(i)?i+a:s.length;a<o;a++)t?e.call(t,s[a],a,a,s):e(s[a],a,a,s)},n.prototype.valueOf=n.prototype.toString=function(){if("UTF-8"!==this.encoding&&"UTF-16"!==this.encoding)return String.fromCharCode.apply(null,this.rawData);let e,t,r="";"UTF-8"===this.encoding?(t=n.getUTF8CharLength,e=n.loadUTF8CharCode):"UTF-16"===this.encoding&&(t=n.getUTF16CharLength,e=n.loadUTF16CharCode);for(var i,o=this.rawData.length,a=0;a<o;a+=t(i))i=e(this.rawData,a),r+=String.fromCharCode(i);return r},e.exports=n},function(e,t,n){var r=n(12),i=n(20);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(66))},function(e,t,n){var r=n(72),i=n(88),o=n(90),a=n(91),s=n(92);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(9),i=n(6);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(42);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(4),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var r=n(105),i=n(23),o=n(3),a=n(44),s=n(25),c=n(108),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),d=!n&&i(e),l=!n&&!d&&a(e),f=!n&&!d&&!l&&c(e),h=n||d||l||f,p=h?r(e.length,String):[],v=p.length;for(var m in e)!t&&!u.call(e,m)||h&&("length"==m||l&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||p.push(m);return p}},function(e,t,n){(function(e){var r=n(2),i=n(107),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c}).call(this,n(24)(e))},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(38),i=n(26);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(43),i=n(113),o=n(46);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(31),i=n(50),o=n(30),a=n(48),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,n){var r=n(45)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(31),i=n(3);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(1);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(1),i=n(145),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=n(58)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(o)})),e.exports=c}).call(this,n(144))},function(e,t,n){"use strict";var r=n(1),i=n(146),o=n(55),a=n(148),s=n(151),c=n(152),u=n(59);e.exports=function(e){return new Promise((function(t,d){var l=e.data,f=e.headers;r.isFormData(l)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",v=e.auth.password||"";f.Authorization="Basic "+btoa(p+":"+v)}var m=a(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),o(m,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};i(t,d,r),h=null}},h.onabort=function(){h&&(d(u("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){d(u("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),d(u(t,e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var _=n(153),g=(e.withCredentials||c(m))&&e.xsrfCookieName?_.read(e.xsrfCookieName):void 0;g&&(f[e.xsrfHeaderName]=g)}if("setRequestHeader"in h&&r.forEach(f,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),d(e),h=null)})),void 0===l&&(l=null),h.send(l)}))}},function(e,t,n){"use strict";var r=n(147);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){t=t||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(o,(function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):void 0!==t[i]?n[i]=t[i]:r.isObject(e[i])?n[i]=r.deepMerge(e[i]):void 0!==e[i]&&(n[i]=e[i])})),r.forEach(a,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var s=i.concat(o).concat(a),c=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return r.forEach(c,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){var r=n(52),i=n(53);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){e.exports=n(139)},function(e,t,n){var r=n(156),i=n(162)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},function(e,t,n){var r=n(3),i=n(18),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(10),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(70),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(71);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(37);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(73),i=n(14),o=n(19);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(74),i=n(79),o=n(80),a=n(81),s=n(82);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(13);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(38),i=n(76),o=n(6),a=n(39),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,l=u.hasOwnProperty,f=RegExp("^"+d.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},function(e,t,n){var r,i=n(77),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(2)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(13),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(13),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(13);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(15),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(15);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(15);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(15);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(16);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(16);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(16);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(16);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(94);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(10),i=n(95),o=n(3),a=n(18),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var r=n(97),i=n(103),o=n(21),a=n(104),s=n(112),c=n(115),u=n(116),d=n(117),l=n(119),f=n(120),h=n(121),p=n(32),v=n(126),m=n(127),_=n(133),g=n(3),y=n(44),b=n(135),S=n(6),w=n(137),M=n(22),R={};R["[object Arguments]"]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R["[object Object]"]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R["[object Function]"]=R["[object WeakMap]"]=!1,e.exports=function e(t,n,C,D,A,E){var O,F=1&n,T=2&n,x=4&n;if(C&&(O=A?C(t,D,A,E):C(t)),void 0!==O)return O;if(!S(t))return t;var I=g(t);if(I){if(O=v(t),!F)return u(t,O)}else{var k=p(t),U="[object Function]"==k||"[object GeneratorFunction]"==k;if(y(t))return c(t,F);if("[object Object]"==k||"[object Arguments]"==k||U&&!A){if(O=T||U?{}:_(t),!F)return T?l(t,s(O,t)):d(t,a(O,t))}else{if(!R[k])return A?t:{};O=m(t,k,F)}}E||(E=new r);var j=E.get(t);if(j)return j;E.set(t,O),w(t)?t.forEach((function(r){O.add(e(r,n,C,r,t,E))})):b(t)&&t.forEach((function(r,i){O.set(i,e(r,n,C,i,t,E))}));var N=x?T?h:f:T?keysIn:M,P=I?void 0:N(t);return i(P||t,(function(r,i){P&&(r=t[i=r]),o(O,i,e(r,n,C,i,t,E))})),O}},function(e,t,n){var r=n(14),i=n(98),o=n(99),a=n(100),s=n(101),c=n(102);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},function(e,t,n){var r=n(14);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(14),i=n(19),o=n(37);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(17),i=n(22);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(9),i=n(5);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(109),i=n(27),o=n(28),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(9),i=n(26),o=n(5),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(29),i=n(111),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(45)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(17),i=n(47);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(6),i=n(29),o=n(114),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(2),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(24)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(17),i=n(30);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t,n){var r=n(17),i=n(49);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(51),i=n(30),o=n(22);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(51),i=n(49),o=n(47);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(4)(n(2),"DataView");e.exports=r},function(e,t,n){var r=n(4)(n(2),"Promise");e.exports=r},function(e,t,n){var r=n(4)(n(2),"Set");e.exports=r},function(e,t,n){var r=n(4)(n(2),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(33),i=n(129),o=n(130),a=n(131),s=n(132);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(2).Uint8Array;e.exports=r},function(e,t,n){var r=n(33);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(10),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(33);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(134),i=n(50),o=n(29);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(6),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(136),i=n(27),o=n(28),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(32),i=n(5);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(138),i=n(27),o=n(28),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(32),i=n(5);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){"use strict";var r=n(1),i=n(54),o=n(140),a=n(60);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=s(n(57));c.Axios=o,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(61),c.CancelToken=n(154),c.isCancel=n(56),c.all=function(e){return Promise.all(e)},c.spread=n(155),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var r=n(1),i=n(55),o=n(141),a=n(142),s=n(60);function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=c},function(e,t,n){"use strict";var r=n(1);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(1),i=n(143),o=n(56),a=n(57);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],d=!1,l=-1;function f(){d&&c&&(d=!1,c.length?u=c.concat(u):l=-1,u.length&&h())}function h(){if(!d){var e=s(f);d=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||d||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(59);e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(149),i=n(150);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(1),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(61);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){var r=n(157),i=n(159);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},function(e,t,n){var r=n(35),i=n(158),o=n(12);e.exports=function(e,t,n){for(var a=-1,s=t.length,c={};++a<s;){var u=t[a],d=r(e,u);n(d,u)&&i(c,o(u,e),d)}return c}},function(e,t,n){var r=n(21),i=n(12),o=n(25),a=n(6),s=n(20);e.exports=function(e,t,n,c){if(!a(e))return e;for(var u=-1,d=(t=i(t,e)).length,l=d-1,f=e;null!=f&&++u<d;){var h=s(t[u]),p=n;if(u!=l){var v=f[h];void 0===(p=c?c(v,h,f):void 0)&&(p=a(v)?v:o(t[u+1])?[]:{})}r(f,h,p),f=f[h]}return e}},function(e,t,n){var r=n(160),i=n(161);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(12),i=n(23),o=n(3),a=n(25),s=n(26),c=n(20);e.exports=function(e,t,n){for(var u=-1,d=(t=r(t,e)).length,l=!1;++u<d;){var f=c(t[u]);if(!(l=null!=e&&n(e,f)))break;e=e[f]}return l||++u!=d?l:!!(d=null==e?0:e.length)&&s(d)&&a(f,d)&&(o(e)||i(e))}},function(e,t,n){var r=n(163),i=n(166),o=n(168);e.exports=function(e){return o(i(e,void 0,r),e+"")}},function(e,t,n){var r=n(164);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){var r=n(31),i=n(165);e.exports=function e(t,n,o,a,s){var c=-1,u=t.length;for(o||(o=i),s||(s=[]);++c<u;){var d=t[c];n>0&&o(d)?n>1?e(d,n-1,o,a,s):r(s,d):a||(s[s.length]=d)}return s}},function(e,t,n){var r=n(10),i=n(23),o=n(3),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(167),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(c),r(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(169),i=n(172)(r);e.exports=i},function(e,t,n){var r=n(170),i=n(42),o=n(171),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){e.exports=function(e){return e}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"IM",(function(){return Ke})),n.d(t,"Push",(function(){return ze})),n.d(t,"NetBase",(function(){return Me}));var r=n(0),i=n.n(r);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function e(t){var n=this;o(this,e),a(this,"dv",void 0),a(this,"pos",void 0),a(this,"size",void 0),a(this,"GetHead",(function(e,t){if(n.pos>=n.size)return!1;var r=n.dv.getUint8(n.pos);return r>>3==e&&(7&r)==t&&(n.pos++,!0)})),a(this,"GetIntValue",(function(){for(var e=0,t=n.dv.getUint8(n.pos++),r=1;t>127;)e+=(t&=127)*r,r*=128,t=n.dv.getUint8(n.pos++);return e+=t*r})),a(this,"ReadIntField",(function(e){return n.GetHead(e,0)?n.GetIntValue():0})),a(this,"ReadStringField",(function(e){var t="";if(!n.GetHead(e,2))return t;for(var r=n.GetIntValue(),i=0;i<r;i++)t+=String.fromCharCode(n.dv.getUint8(n.pos++));return t})),a(this,"ReadArrayField",(function(e){var t=[];if(!n.GetHead(e,2))return new Uint8Array(t).buffer;for(var r=n.GetIntValue(),i=0;i<r;i++)t.push(n.dv.getUint8(n.pos++));return new Uint8Array(t).buffer})),this.dv=new DataView(t),this.pos=0,this.size=t.byteLength},c=function e(){var t=this;o(this,e),a(this,"arr",void 0),a(this,"SetHead",(function(e,n){var r=e<<3|n;t.arr.push(255&r)})),a(this,"SetIntValue",(function(e){for(;e>127;)t.arr.push(e%128+128),e=Math.floor(e/128);t.arr.push(e)})),a(this,"WriteIntField",(function(e,n){t.SetHead(e,0),t.SetIntValue(n)})),a(this,"WriteBooleanField",(function(e,n){t.SetHead(e,0),t.SetIntValue(+n)})),a(this,"WriteStringField",(function(e,n){t.SetHead(e,2),t.SetIntValue(n.length);for(var r=0;r<n.length;++r)t.arr.push(n.charCodeAt(r))})),a(this,"WriteArrayBufferField",(function(e,n){t.SetHead(e,2),t.SetIntValue(n.byteLength);for(var r=new Uint8Array(n),i=0;i<r.length;i++)t.arr.push(r[i])})),a(this,"getArrayBuffer",(function(){return new Uint8Array(t.arr).buffer})),this.arr=[]},u=function e(t){var n=this;o(this,e),a(this,"cmd",void 0),a(this,"seq",void 0),a(this,"data",void 0),a(this,"Decode",(function(e){var t=new s(e);return{cmd:t.ReadIntField(1),seq:t.ReadIntField(2),data:t.ReadArrayField(3)}})),a(this,"Encode",(function(){var e=new c;return e.WriteIntField(1,n.cmd),e.WriteIntField(2,n.seq),e.WriteArrayBufferField(3,n.data),e.getArrayBuffer()})),this.cmd=i()(t,"cmd",0),this.seq=i()(t,"seq",0),this.data=i()(t,"data",[])},d=function e(t){var n=this;o(this,e),a(this,"traceid",void 0),a(this,"appid",void 0),a(this,"cid",void 0),a(this,"uid",void 0),a(this,"pwd",void 0),a(this,"data",void 0),a(this,"will",void 0),a(this,"version",void 0),a(this,"platform",void 0),a(this,"heartbeat",void 0),a(this,"Encode",(function(){var e=new c;return e.WriteStringField(1,n.traceid),e.WriteStringField(2,n.appid),e.WriteStringField(3,n.cid),e.WriteStringField(4,n.uid),e.WriteStringField(5,n.pwd),e.WriteArrayBufferField(6,n.data),e.WriteArrayBufferField(7,n.will),e.WriteStringField(9,n.version),e.WriteIntField(10,n.platform),e.WriteIntField(11,n.heartbeat),e.getArrayBuffer()})),this.traceid=i()(t,"traceid",""),this.appid=i()(t,"appid",""),this.cid=i()(t,"cid",""),this.uid=i()(t,"uid",""),this.pwd=i()(t,"pwd",""),this.data=i()(t,"data",new Uint8Array([]).buffer),this.will=i()(t,"will",new Uint8Array([]).buffer),this.version=i()(t,"version",""),this.platform=i()(t,"platform",0),this.heartbeat=i()(t,"heartbeat",0)},l=function e(t){o(this,e),a(this,"traceid",void 0),a(this,"appid",void 0),a(this,"cid",void 0),a(this,"uid",void 0),a(this,"token",void 0),a(this,"data",void 0),a(this,"code",void 0),a(this,"message",void 0),a(this,"Decode",(function(e){var t=new s(e);return{traceid:t.ReadStringField(1),appid:t.ReadStringField(2),cid:t.ReadStringField(3),uid:t.ReadStringField(4),token:t.ReadStringField(5),data:t.ReadArrayField(6),code:t.ReadIntField(7),message:t.ReadStringField(8)}})),this.traceid=i()(t,"traceid",""),this.appid=i()(t,"appid",""),this.cid=i()(t,"cid",""),this.uid=i()(t,"uid",""),this.token=i()(t,"token",""),this.data=i()(t,"data",new Uint8Array([]).buffer),this.code=i()(t,"code",0),this.message=i()(t,"message","")},f=function e(t){var n=this;o(this,e),a(this,"traceid",void 0),a(this,"will",void 0),a(this,"Encode",(function(){var e=new c;return e.WriteStringField(1,n.traceid),e.WriteArrayBufferField(2,n.will),e.getArrayBuffer()})),this.traceid=i()(t,"traceid",""),this.will=i()(t,"will",new Uint8Array([]).buffer)},h=function e(t){o(this,e),a(this,"traceid",void 0),a(this,"code",void 0),a(this,"message",void 0),a(this,"Decode",(function(e){var t=new s(e);return{traceid:t.ReadStringField(1),code:t.ReadIntField(2),message:t.ReadStringField(3)}})),this.traceid=i()(t,"traceid",""),this.code=i()(t,"code",0),this.message=i()(t,"message","")},p=function e(t){var n=this;o(this,e),a(this,"traceid",void 0),a(this,"topic",void 0),a(this,"ack",void 0),a(this,"data",void 0),a(this,"extend",void 0),a(this,"Decode",(function(e){var t=new s(e);return{traceid:t.ReadStringField(1),topic:t.ReadStringField(2),ack:t.ReadIntField(3),data:t.ReadArrayField(4),extend:new Uint8Array([]).buffer}})),a(this,"Encode",(function(){var e=new c;return e.WriteStringField(1,n.traceid),e.WriteStringField(2,n.topic),e.WriteBooleanField(3,n.ack),e.WriteArrayBufferField(4,n.data),e.getArrayBuffer()})),this.traceid=i()(t,"traceid",""),this.topic=i()(t,"topic",""),this.ack=i()(t,"ack",!1),this.data=i()(t,"data",new Uint8Array([]).buffer),this.extend=i()(t,"extend",new Uint8Array([]).buffer)},v=function e(t){var n=this;o(this,e),a(this,"traceid",void 0),a(this,"topic",void 0),a(this,"extend",void 0),a(this,"code",void 0),a(this,"message",void 0),a(this,"Decode",(function(e){var t=new s(e);return{traceid:t.ReadStringField(1),topic:t.ReadStringField(2),extend:t.ReadArrayField(3),code:t.ReadIntField(4),message:t.ReadStringField(5)}})),a(this,"Encode",(function(){var e=new c;return e.WriteStringField(1,n.traceid),e.WriteStringField(2,n.topic),e.WriteArrayBufferField(3,n.extend),e.WriteIntField(4,n.code),e.WriteStringField(5,n.message),e.getArrayBuffer()})),this.traceid=i()(t,"traceid",""),this.topic=i()(t,"topic",""),this.extend=i()(t,"extend",new Uint8Array([]).buffer),this.code=i()(t,"code",0),this.message=i()(t,"message","")},m=function e(t){var n=this;o(this,e),a(this,"traceid",void 0),a(this,"topic",void 0),a(this,"data",void 0),a(this,"extend",void 0),a(this,"Encode",(function(){var e=new c;return e.WriteStringField(1,n.traceid),e.WriteStringField(2,n.topic),e.WriteArrayBufferField(3,n.data),e.getArrayBuffer()})),this.traceid=i()(t,"traceid",""),this.topic=i()(t,"topic",""),this.data=i()(t,"data",new Uint8Array([]).buffer),this.extend=i()(t,"extend",new Uint8Array([]).buffer)},_=function e(t){o(this,e),a(this,"traceid",void 0),a(this,"topic",void 0),a(this,"data",void 0),a(this,"extend",void 0),a(this,"code",void 0),a(this,"message",void 0),a(this,"Decode",(function(e){var t=new s(e);return{traceid:t.ReadStringField(1),topic:t.ReadStringField(2),data:t.ReadArrayField(3),extend:t.ReadArrayField(4),code:t.ReadIntField(5),message:t.ReadStringField(6)}})),this.traceid=i()(t,"traceid",""),this.topic=i()(t,"topic",""),this.data=i()(t,"data",new Uint8Array([]).buffer),this.extend=i()(t,"extend",new Uint8Array([]).buffer),this.code=i()(t,"code",0),this.message=i()(t,"message","")},g=function e(t){var n=this;o(this,e),a(this,"traceid",void 0),a(this,"appid",void 0),a(this,"cid",void 0),a(this,"uid",void 0),a(this,"pwd",void 0),a(this,"data",void 0),a(this,"will",void 0),a(this,"Encode",(function(){var e=new c;return e.WriteStringField(1,n.traceid),e.WriteStringField(2,n.appid),e.WriteStringField(3,n.cid),e.WriteStringField(4,n.uid),e.WriteStringField(5,n.pwd),e.WriteArrayBufferField(6,n.data),e.WriteArrayBufferField(7,n.will),e.getArrayBuffer()})),this.traceid=i()(t,"traceid",""),this.appid=i()(t,"appid",""),this.cid=i()(t,"cid",""),this.uid=i()(t,"uid",""),this.pwd=i()(t,"pwd",""),this.data=i()(t,"data",new Uint8Array([]).buffer),this.will=i()(t,"will",new Uint8Array([]).buffer)},y=function e(t){o(this,e),a(this,"traceid",void 0),a(this,"appid",void 0),a(this,"cid",void 0),a(this,"uid",void 0),a(this,"data",void 0),a(this,"code",void 0),a(this,"message",void 0),a(this,"Decode",(function(e){var t=new s(e);return{traceid:t.ReadStringField(1),appid:t.ReadStringField(2),cid:t.ReadStringField(3),uid:t.ReadStringField(4),data:t.ReadArrayField(5),code:t.ReadIntField(6),message:t.ReadStringField(7)}})),this.traceid=i()(t,"traceid",""),this.appid=i()(t,"appid",""),this.cid=i()(t,"cid",""),this.uid=i()(t,"uid",""),this.data=i()(t,"data",new Uint8Array([]).buffer),this.code=i()(t,"code",0),this.message=i()(t,"message","")},b=function e(t){var n=this;o(this,e),a(this,"traceid",void 0),a(this,"appid",void 0),a(this,"cid",void 0),a(this,"uid",void 0),a(this,"will",void 0),a(this,"Encode",(function(){var e=new c;return e.WriteStringField(1,n.traceid),e.WriteStringField(2,n.appid),e.WriteStringField(3,n.cid),e.WriteStringField(4,n.uid),e.WriteArrayBufferField(5,n.will),e.getArrayBuffer()})),this.traceid=i()(t,"traceid",""),this.appid=i()(t,"appid",""),this.cid=i()(t,"cid",""),this.uid=i()(t,"uid",""),this.will=i()(t,"will",new Uint8Array([]).buffer)},S=function e(t){o(this,e),a(this,"traceid",void 0),a(this,"appid",void 0),a(this,"cid",void 0),a(this,"uid",void 0),a(this,"code",void 0),a(this,"message",void 0),a(this,"Decode",(function(e){var t=new s(e);return{traceid:t.ReadStringField(1),appid:t.ReadStringField(2),cid:t.ReadStringField(3),uid:t.ReadStringField(4),code:t.ReadIntField(5),message:t.ReadStringField(6)}})),this.traceid=i()(t,"traceid",""),this.appid=i()(t,"appid",""),this.cid=i()(t,"cid",""),this.uid=i()(t,"uid",""),this.code=i()(t,"code"),this.message=i()(t,"message","")},w=function e(){o(this,e),a(this,"Encode",(function(){return(new c).getArrayBuffer()}))},M=function e(){o(this,e),a(this,"Decode",(function(){return null}))};function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D,A,E=function e(t){var n=this;R(this,e),C(this,"pos",void 0),C(this,"dv",void 0),C(this,"ReadInt16Field",(function(){var e=n.dv.getUint8(n.pos++);return n.dv.getUint8(n.pos++)<<8|e})),C(this,"ReadInt32Field",(function(){var e=n.dv.getUint8(n.pos++),t=n.dv.getUint8(n.pos++),r=n.dv.getUint8(n.pos++);return n.dv.getUint8(n.pos++)<<24|r<<16|t<<8|e})),C(this,"ReadInt64Field",(function(){for(var e=0,t=1,r=0;r<8;r++)e+=t*n.dv.getUint8(n.pos++),t*=256;return e})),C(this,"ReadStringField",(function(){for(var e="",t=n.ReadInt16Field(),r=0;r<t;r++)e+=String.fromCharCode(n.dv.getUint8(n.pos++));return e})),C(this,"ReadArrayBufferField",(function(){var e=n.ReadInt16Field(),t=n.dv.buffer.slice(n.pos,n.pos+e);return n.pos+=e,t})),this.pos=0,this.dv=new DataView(t)},O=function e(){var t=this;R(this,e),C(this,"arr",void 0),C(this,"WriteInt16Field",(function(e){t.arr.push(255&e),t.arr.push(e>>8&255)})),C(this,"WriteInt32Field",(function(e){t.arr.push(255&e),t.arr.push(e>>8&255),t.arr.push(e>>16&255),t.arr.push(e>>24&255)})),C(this,"WriteInt64Field",(function(e){for(var n=e,r=0;r<8;r++)t.arr.push(255&n),n/=256})),C(this,"WriteStringField",(function(e){t.WriteInt16Field(e.length);for(var n=0;n<e.length;++n)t.arr.push(e.charCodeAt(n))})),C(this,"WriteArrayBufferField",(function(e){t.WriteInt16Field(e.byteLength);for(var n=new Uint8Array(e),r=0;r<n.length;r++)t.arr.push(n[r])})),C(this,"getArrayBuffer",(function(){return new Uint8Array(t.arr).buffer})),this.arr=[]},F=function e(t){var n=this;R(this,e),C(this,"method",void 0),C(this,"data",void 0),C(this,"extend",void 0),C(this,"Decode",(function(e){var t=new E(e);return{method:t.ReadStringField(),data:t.ReadArrayBufferField(),extend:t.ReadArrayBufferField()}})),C(this,"Encode",(function(){var e=new O;return e.WriteStringField(n.method),e.WriteArrayBufferField(n.data),e.WriteArrayBufferField(n.extend),e.getArrayBuffer()})),this.method=i()(t,"method",""),this.data=i()(t,"data",new Uint8Array([]).buffer),this.extend=i()(t,"extend",new Uint8Array([]).buffer)},T=function e(t){var n=this;R(this,e),C(this,"toAppid",void 0),C(this,"toUid",void 0),C(this,"toPlatform",void 0),C(this,"msg",void 0),C(this,"ttl",void 0),C(this,"Decode",(function(e){for(var t=new E(e),n=t.ReadStringField(),r=[],i=[],o=t.ReadInt32Field(),a=0;a<o;a++){var s=t.ReadStringField();r.push(s)}for(var c=t.ReadInt32Field(),u=0;u<c;u++){var d=t.ReadInt16Field();i.push(d)}return{toAppid:n,toUid:r,toPlatform:i,msg:t.ReadArrayBufferField(),ttl:t.ReadInt32Field()}})),C(this,"Encode",(function(){var e=new O;e.WriteStringField(n.toAppid);var t=n.toUid.length;e.WriteInt32Field(t);for(var r=0;r<t;r++)e.WriteStringField(n.toUid[r]);var i=n.toPlatform.length;e.WriteInt32Field(i);for(var o=0;o<i;o++)e.WriteInt16Field(n.toPlatform[o]);return e.WriteArrayBufferField(n.msg),e.WriteInt32Field(n.ttl),e.getArrayBuffer()})),this.toAppid=i()(t,"toAppid",""),this.toUid=i()(t,"toUid",[]),this.toPlatform=i()(t,"toPlatform",[]),this.msg=i()(t,"msg",new ArrayBuffer(0)),this.ttl=i()(t,"ttl",0)},x=function e(t){R(this,e),C(this,"uid",void 0),C(this,"platform",void 0),this.uid=i()(t,"uid",""),this.platform=i()(t,"platform",0)},I=function e(t){var n=this;R(this,e),C(this,"code",void 0),C(this,"message",void 0),C(this,"traceId",void 0),C(this,"offlineUidInfos",void 0),C(this,"Decode",(function(e){for(var t=new E(e),n=t.ReadInt32Field(),r=t.ReadStringField(),i=t.ReadStringField(),o=[],a=t.ReadInt32Field(),s=0;s<a;s++){var c=new x({uid:t.ReadStringField(),platform:t.ReadInt16Field()});o.push(c)}return{code:n,message:r,traceId:i,offlineUidInfos:o}})),C(this,"Encode",(function(){var e=new O;e.WriteInt32Field(n.code),e.WriteStringField(n.message),e.WriteStringField(n.traceId);var t=n.offlineUidInfos.length;e.WriteInt32Field(t);for(var r=0;r<t;r++){var i=n.offlineUidInfos[r];e.WriteStringField(i.uid),e.WriteInt16Field(i.platform)}return e.getArrayBuffer()})),this.code=i()(t,"code",0),this.message=i()(t,"message",""),this.traceId=i()(t,"traceId",""),this.offlineUidInfos=i()(t,"offlineUidInfos",[])},k=function e(t){R(this,e),C(this,"fromAppid",void 0),C(this,"fromUid",void 0),C(this,"fromPlatform",void 0),C(this,"msg",void 0),C(this,"Decode",(function(e){var t=new E(e);return{fromAppid:t.ReadStringField(),fromUid:t.ReadStringField(),fromPlatform:t.ReadInt16Field(),msg:t.ReadArrayBufferField()}})),this.fromAppid=i()(t,"fromAppid",""),this.fromUid=i()(t,"fromUid",""),this.fromPlatform=i()(t,"fromPlatform",0),this.msg=i()(t,"msg",[])},U=function e(t){var n=this;R(this,e),C(this,"roomid",void 0),C(this,"msg",void 0),C(this,"ttl",void 0),C(this,"Encode",(function(){var e=new O;return e.WriteInt64Field(n.roomid),e.WriteArrayBufferField(n.msg),e.WriteInt32Field(n.ttl),e.getArrayBuffer()})),C(this,"Decode",(function(e){var t=new E(e);return{roomid:t.ReadInt64Field(),msg:t.ReadArrayBufferField(),ttl:t.ReadInt32Field()}})),this.roomid=i()(t,"roomid",0),this.msg=i()(t,"msg",new Uint8Array([]).buffer),this.ttl=i()(t,"ttl",0)},j=function e(t){var n=this;R(this,e),C(this,"code",void 0),C(this,"message",void 0),C(this,"traceId",void 0),C(this,"seqid",void 0),C(this,"Encode",(function(){var e=new O;return e.WriteInt32Field(n.code),e.WriteStringField(n.message),e.WriteStringField(n.traceId),e.WriteInt64Field(n.seqid),e.getArrayBuffer()})),C(this,"Decode",(function(e){var t=new E(e);return{code:t.ReadInt32Field(),message:t.ReadStringField(),traceId:t.ReadStringField(),seqid:t.ReadInt64Field()}})),this.code=i()(t,"code",0),this.message=i()(t,"message",""),this.traceId=i()(t,"traceId",""),this.seqid=i()(t,"seqid",0)},N=function e(t){R(this,e),C(this,"fromAppid",void 0),C(this,"fromUid",void 0),C(this,"fromPlatform",void 0),C(this,"msg",void 0),C(this,"roomid",void 0),C(this,"seqid",void 0),C(this,"time",void 0),C(this,"Decode",(function(e){var t=new E(e);return{fromAppid:t.ReadStringField(),fromUid:t.ReadStringField(),fromPlatform:t.ReadInt16Field(),msg:t.ReadArrayBufferField(),roomid:t.ReadInt64Field(),seqid:t.ReadInt64Field(),time:t.ReadInt64Field()}})),this.fromAppid=i()(t,"fromAppid",""),this.fromUid=i()(t,"fromUid",""),this.fromPlatform=i()(t,"fromPlatform",0),this.msg=i()(t,"msg",new Uint8Array([]).buffer),this.roomid=i()(t,"roomid",0),this.seqid=i()(t,"seqid",0),this.time=i()(t,"time",0)},P=function e(t){var n=this;R(this,e),C(this,"roomid",void 0),C(this,"seqid",void 0),C(this,"size",void 0),C(this,"Encode",(function(){var e=new O;return e.WriteInt64Field(n.roomid),e.WriteInt64Field(n.seqid),e.WriteInt32Field(n.size),e.getArrayBuffer()})),C(this,"Decode",(function(e){var t=new E(e);return{roomid:t.ReadInt64Field(),seqid:t.ReadInt64Field(),size:t.ReadInt32Field()}})),this.roomid=i()(t,"roomid",0),this.seqid=i()(t,"seqid",0),this.size=i()(t,"size",0)},L=function e(t){R(this,e),C(this,"code",void 0),C(this,"message",void 0),C(this,"traceId",void 0),C(this,"datas",void 0),C(this,"Decode",(function(e){for(var t=new E(e),n=t.ReadInt32Field(),r=t.ReadStringField(),i=t.ReadStringField(),o=[],a=t.ReadInt32Field(),s=0;s<a;s++){var c={fromAppid:t.ReadStringField(),fromUid:t.ReadStringField(),fromPlatform:t.ReadInt16Field(),msg:t.ReadArrayBufferField(),roomid:t.ReadInt64Field(),seqid:t.ReadInt64Field(),time:t.ReadInt64Field()};o.push(c)}return{code:n,message:r,traceId:i,datas:o}})),this.code=i()(t,"code",0),this.message=i()(t,"message",""),this.traceId=i()(t,"traceId",""),this.datas=i()(t,"datas",[])};!function(e){e[e.CONNECT=1]="CONNECT",e[e.CONNECTACK=2]="CONNECTACK",e[e.DISCONNECT=3]="DISCONNECT",e[e.DISCONNECTACK=4]="DISCONNECTACK",e[e.UPDATE=5]="UPDATE",e[e.UPDATEACK=6]="UPDATEACK",e[e.BIND=7]="BIND",e[e.BINDACK=8]="BINDACK",e[e.UNBIND=9]="UNBIND",e[e.UNBINDACK=10]="UNBINDACK",e[e.PING=11]="PING",e[e.PONG=12]="PONG",e[e.PUSH=13]="PUSH",e[e.PUSHACK=14]="PUSHACK",e[e.CALL=15]="CALL",e[e.CALLACK=16]="CALLACK"}(D||(D={})),function(e){e[e.Unknow=0]="Unknow",e[e.Win=1]="Win",e[e.Android=2]="Android",e[e.iOS=3]="iOS",e[e.Web=4]="Web",e[e.SeewoOS=5]="SeewoOS",e[e.Mac=6]="Mac",e[e.Linux=7]="Linux"}(A||(A={}));var q,B=function(e,t){var n=null;switch(e){case"singleCmd":n=new T({toApp:t.toApp,toUid:t.toUid,toPlatform:t.toPlatform,msg:t.msg,ttl:t.ttl});break;case"roomCmd":n=new U({roomid:t.roomid,ttl:t.ttl,msg:t.msg});break;case"pullHisRoomCmd":n=new P({roomid:t.roomid,seqid:t.seqid,size:t.size});break;default:throw new Error("[MsSDK]method is not match.")}return new F({method:e,data:n.Encode()}).Encode()},G=function(e){var t,n=(new F).Decode(e);switch(n.method){case"singleCmdRsp":t=(new I).Decode(n.data);break;case"roomCmdRsp":t=(new j).Decode(n.data);break;case"pullHisRoomCmdRsp":t=(new L).Decode(n.data);break;case"singleCmdData":t=(new k).Decode(n.data);break;case"roomCmdData":t=(new N).Decode(n.data);break;default:throw new Error("[MsSDK]method is not match.")}return{method:n.method,data:t,extend:n.extend}};!function(e){e.IM_DATA="im/data",e.IM_CMD="im/cmd",e.PUSH_DATA="push/data"}(q||(q={}));var K="userClose",W="connectTimeout",H="connectFail",z="reconnectFail",V="heartbeatFail",$="websocketError",J="unknow",X="userConnect",Q="reconnect",Z={userClose:function(){return{code:0,message:"断开连接"}},connectTimeout:function(){return{code:-1e4,message:"连接超时"}},connectFail:function(e){return e},reconnectFail:function(){return{code:-10001,message:"重新连接失败"}},heartbeatFail:function(){return{code:-10002,message:"连接异常"}},websocketError:function(){return{code:-10003,message:"连接websocket地址出错"}},unknow:function(){return{code:-10004,message:"未知原因"}}},Y={userConnect:function(){return{code:0,message:"成功连接"}},reconnect:function(){return{code:0,message:"重新连接成功"}}},ee=n(34),te=n.n(ee),ne=function(e){return new te.a(e).buffer},re=function(e){return JSON.parse((t=e,new te.a(t).toString()));var t},ie=function(e){var t=JSON.stringify(e);return ne(t)},oe=function(e){if(window.location)for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]==e)return r[1]}return!1},ae=function(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)},se=function(){for(var e="true"===oe("seewoMessageLog"),t=window.__seewoMessageLog__,n=e||t||!1,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n&&console.log.apply(console,i)},ce=(console.error.bind(console),n(7)),ue=n.n(ce),de=function(e){var t,n=new Date;for(var r in D)e._rtmqEvent.on(r,(function(){n=new Date}));se("_MSSDK_exceptionHandle_ _rtmqEvent: ",e._rtmqEvent),t=setInterval((function(){(new Date).getTime()-n.getTime()>2*e.initInfo.heartbeat*1e3?(e._rtmqEvent.removeAllListeners(["PONG"]),e._close(V)):e._send(D.PING,null)}),1*e.initInfo.heartbeat*1e3),e.onDisconnect((function(){clearTimeout(t)}))},le=n(8),fe=n.n(le);function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pe(this,"_event",void 0),pe(this,"_timeoutTimer",void 0),this._event=new ue.a,t&&t(),this._timeoutTimer=window.setTimeout((function(){r.emit("timeout",n)}),3e4),this._responseHandle()}var t,n,r;return t=e,(n=[{key:"_responseHandle",value:function(){var e=this,t=this;["success","fail","timeout"].map((function(n){e._event.on(n,(function(){clearTimeout(t._timeoutTimer)}))}))}},{key:"then",value:function(e){return this._event.on("success",(function(t){var n=fe()(t);e&&e(n)})),this}},{key:"onFail",value:function(e){return this._event.on("fail",(function(t){var n=fe()(t);e&&e(n)})),this}},{key:"onTimeout",value:function(e){return e&&this._event.on("timeout",e),this}},{key:"emit",value:function(e,t){this._event.emit(e,t)}}])&&he(t.prototype,n),r&&he(t,r),e}(),me=n(62),_e=n.n(me),ge=n(63),ye=n.n(ge);function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we,Me=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Se(this,"initInfo",void 0),Se(this,"commonCoreInfo",void 0),Se(this,"websocket",void 0),Se(this,"isAutoReconnect",void 0),Se(this,"_rtmqEvent",void 0),Se(this,"_seq",void 0),Se(this,"_timeout",void 0),Se(this,"_ackRequests",void 0),Se(this,"_isConnected",void 0),Se(this,"_isUserClose",void 0),Se(this,"_closeReason",void 0),Se(this,"_connectReason",void 0),Se(this,"_isReconnecting",void 0),Se(this,"_recvQueue",void 0),Se(this,"cid",void 0),this.initInfo=null,this.commonCoreInfo=null,this._rtmqEvent=new ue.a,this._seq=0,this._timeout=30,this._ackRequests=new Map,this.isAutoReconnect=!0,this._isConnected=!1,this._isUserClose=!1,this._closeReason=Z[J](),this._connectReason=null,this._isReconnecting=!1,this._recvQueue=[]}var t,n,r;return t=e,(n=[{key:"init",value:function(e){return this.initInfo={host:e.host,appid:e.appid.trim(),cid:e.cid,uid:e.uid,pwd:e.pwd,platform:e.platform,data:e.data,heartbeat:e.heartbeat||30,version:"<gitbranch>/1.2.0.<gitcount>",signsure:"7db047a67a9d7293850ac69d14cc82bf",will:e.will},this.commonCoreInfo=Object.assign({},this.initInfo),this.isAutoReconnect=!1!==e.isAutoReconnect,this}},{key:"start",value:function(){var e=this;if(this.websocket)throw new Error("已存在websocket连接");var t,n=this.initInfo,r=n.host,o=n.appid,a=/(^wss:\/\/)|(^ws:\/\/)/.test(r),s=function(t){e.websocket=new WebSocket(t),e._isUserClose=!1,e.websocket.onopen=function(){e.websocket.binaryType="arraybuffer";var t=Object.assign({},e.initInfo,{traceid:_e()()});se("_MSSDK_NetBase_ start onopen CONNECT _send info:",t),e._send(D.CONNECT,t).then((function(t){se("_MSSDK_NetBase_ start onopen CONNECT then rtmqData:",t),e._isReconnecting=!1})).onFail((function(t){se("_MSSDK_NetBase_ start onopen CONNECT onFail rtmqData:",t),e._connectFailDeal(t)})).onTimeout((function(t){se("_MSSDK_NetBase_ start onopen CONNECT onTimeout:",t),e._close(W)}))},e.websocket.onerror=function(t){se("_MSSDK_NetBase_ start onerror event:",t),e._close($)},e.websocket.onmessage=function(t){var n=function(e){var t=(new u).Decode(e),n={cmd:t.cmd,seq:t.seq,data:void 0};switch(t.cmd){case D.CONNECTACK:n.data=(new l).Decode(t.data);break;case D.DISCONNECTACK:n.data=(new h).Decode(t.data);break;case D.UPDATEACK:break;case D.BINDACK:n.data=(new y).Decode(t.data);break;case D.UNBINDACK:n.data=(new S).Decode(t.data);break;case D.PONG:n.data=(new M).Decode();break;case D.PUSH:n.data=(new p).Decode(t.data);break;case D.PUSHACK:n.data=(new v).Decode(t.data);break;case D.CALLACK:n.data=(new _).Decode(t.data);break;default:throw new Error("[MsSDK]cmd code is not match")}return n}(t.data);Object.keys(D).map((function(t){D[t]===n.cmd&&e._recvPreDeal(t,n.data,{seq:n.seq})})),e._handleRequestResponse(n)},e.websocket.onclose=function(t){e._isConnected=!1,e._isReconnecting&&(e._closeReason=Z[z]()),e._rtmqEvent.emit("disconnect"),e.websocket=null,e._isUserClose&&e._rtmqEvent.removeAllListeners(),e._reconnect()}};return a?s(t=r):ye.a.get("https://".concat(r,"/gateway/api/v1/getroute/default/").concat(o,"?protocol=wss")).then((function(e){var n=i()(e,"data.port"),r=i()(e,"data.ip"),o=i()(e,"data.protocol");t="".concat(o,"://").concat(r,":").concat(n),s(t)})).catch((function(e){console.error("[MsSDK]get websocket url error, ".concat(e)),t=r,s("wss://".concat(r))})),this}},{key:"stop",value:function(e){var t=this;if(this._isUserClose=!0,this.websocket){var n=null,r=function(){t._close(K),clearTimeout(n)};n=setTimeout((function(){r()}),1e3*this._timeout);var i=Object.assign({},this.commonCoreInfo,e?{will:e}:null);this._send(D.DISCONNECT,i),this._rtmqEvent.on("DISCONNECTACK",(function(){r()}))}return this}},{key:"send",value:function(e){var t=e.rtmqData,n=e.onSuccess,r=e.onFail,i=e.onTimeout;return se("_MSSDK_NetBase_ send rtmqData:",t),this._send(D.PUSH,t).then((function(e){se("_MSSDK_NetBase_ send then resRtmqData:",e),n&&n(e)})).onFail((function(e){se("_MSSDK_NetBase_ send onFail resRtmqData:",e),r&&r(e)})).onTimeout((function(e){se("_MSSDK_NetBase_ send onTimeout:",e),i&&i(e)})),this}},{key:"call",value:function(e){var t=e.rtmqData,n=e.onSuccess,r=e.onFail,i=e.onTimeout;return se("_MSSDK_NetBase_ call rtmqData:",t),this._send(D.CALL,t).then((function(e){se("_MSSDK_NetBase_ call then resRtmqData:",e),n&&n(e)})).onFail((function(e){se("_MSSDK_NetBase_ call onFail resRtmqData:",e),r&&r(e)})).onTimeout((function(e){se("_MSSDK_NetBase_ call onTimeout:",e),i&&i(e)})),this}},{key:"onRecv",value:function(e){return this._rtmqEvent.on("PUSH",(function(t,n){se("_MSSDK_NetBase_ onRecv rtmqData:",t);var r=fe()(t);e&&e(r)})),this}},{key:"onConnect",value:function(e){var t=this;return this._rtmqEvent.on("CONNECTACK",(function(n){0===n.code&&(t._isConnected=!0,de(t),t._connectReason||(t._connectReason=Y[X]()),se("_MSSDK_NetBase_ onConnect"),e&&e(t._connectReason)),t._connectReason=null})),this}},{key:"onDisconnect",value:function(e){var t=this;return this._rtmqEvent.on("disconnect",(function(){se("_MSSDK_NetBase_ onDisconnect"),e&&e(t._closeReason)})),this}},{key:"getIsConnected",value:function(){return this._isConnected}},{key:"_start",value:function(e,t){this._connectReason=Y[e](t),this.start()}},{key:"_close",value:function(e,t){if(this._closeReason=Z[e](t),e===V){var n=this.websocket;this.websocket.close(),this.websocket.onclose(null),n.onclose=function(){}}else this.websocket&&this.websocket.close()}},{key:"_connectFailDeal",value:function(e){this._isUserClose=!0,this._close(H,{code:e.code,message:e.message,traceid:e.traceid})}},{key:"_recvPreDeal",value:function(e,t,n){if(e+""=="PUSH"){var r=fe()(t);r.ack&&this._send(D.PUSHACK,{traceid:r.traceid,topic:r.topic,extend:r.extend,code:0,message:""},n.seq)}this._rtmqEvent.emit(e,t,n)}},{key:"_reconnect",value:function(){var e=this;!this._isUserClose&&this.isAutoReconnect&&(e._isReconnecting=!0,se("_MSSDK_NetBase_ 自动重连中"),setTimeout((function(){e._isUserClose||e._start(Q)}),1e4))}},{key:"_handleRequestResponse",value:function(e){var t=this._ackRequests.get(e.seq);e.data&&t&&t.emit(0===e.data.code?"success":"fail",e.data),this._ackRequests.delete(e.seq)}},{key:"_send",value:function(e,t,n){var r=this,i=new ve((function(){se("_MSSDK_NetBase_ _send rtmqData:",e,t);var i=function(e,t,n){var r=null;switch(e){case D.CONNECT:r=new d(n).Encode();break;case D.DISCONNECT:r=new f(n).Encode();break;case D.BIND:r=new g(n).Encode();break;case D.UNBIND:r=new b(n).Encode();break;case D.PING:r=(new w).Encode();break;case D.PUSH:r=new p(n).Encode();break;case D.PUSHACK:r=new v(n).Encode();break;case D.CALL:r=new m(n).Encode();break;default:throw new Error("[MsSDK]type is incorrect.")}return new u({seq:t,cmd:e,data:r}).Encode()}(e,n||r._seq,t);r.websocket&&1===r.websocket.readyState&&r.websocket.send(i)}),t);return i.onTimeout((function(){r._ackRequests.delete(r._seq),r.websocket||console.error("websocket未连接")})),this._ackRequests.set(this._seq,i),this._seq++,i}}])&&be(t.prototype,n),r&&be(t,r),e}();function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e[e.Unknow=0]="Unknow",e[e.Win=1]="Win",e[e.Android=2]="Android",e[e.iOS=3]="iOS",e[e.Web=4]="Web",e[e.SeewoOS=5]="SeewoOS",e[e.Mac=6]="Mac",e[e.Linux=7]="Linux"}(we||(we={}));var Ce=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n="netBase",r=new Me,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:"init",value:function(e){var t,n={data:ie(e.authInfo),will:(t=e.will,ne(t)),host:e.host,appid:e.appid,uid:e.uid,pwd:e.pwd,platform:e.platform,heartbeat:e.heartbeat,isAutoReconnect:e.isAutoReconnect};return this.netBase.init(n),this}},{key:"getIsConnected",value:function(){return this.netBase.getIsConnected()}},{key:"onConnect",value:function(e){this.netBase.onConnect((function(t){se("_MSSDK_Controller_ onConnect data:",t),e&&e(t)}))}},{key:"onDisconnect",value:function(e){this.netBase.onDisconnect((function(t){se("_MSSDK_Controller_ onDisconnect data:",t),e&&e(t)}))}},{key:"start",value:function(){return this.netBase.start(),this}},{key:"send",value:function(e){var t=e.rtmqData,n=e.onSuccess,r=e.onFail,i=e.onTimeout;return se("_MSSDK_Controller_ send rtmqData:",t),this.netBase.send({rtmqData:t,onSuccess:function(e){var t={traceid:e.traceid,topic:e.topic};se("_MSSDK_Controller_ send onSuccess respRtmqData:",e),n&&n(null,t)},onFail:function(e){var t={traceid:e.traceid,topic:e.topic};se("_MSSDK_Controller_ send onFail respRtmqData:",e),r&&r({code:e.code,message:e.message},t)},onTimeout:function(e){se("_MSSDK_Controller_ send onTimeout");var t={traceid:e.traceid,topic:e.topic};i&&i({code:-2,message:"服务器超时"},t)}}),this}},{key:"call",value:function(e){var t=this,n=e.rtmqData,r=e.onSuccess,i=e.onFail,o=e.onTimeout;return se("_MSSDK_Controller_ call rtmqData:",n),this.netBase.call({rtmqData:n,onSuccess:function(e){var n=t._recvDataParse(e),i={traceid:n.traceid,topic:n.topic,time:n.data.time,method:n.data.method};se("_MSSDK_Controller_ call onSuccess respRtmqData2:",n),r&&r(n.data.data,i)},onFail:function(e){var n=t._recvDataParse(e),r={traceid:n.traceid,topic:n.topic,method:n.data.method};se("_MSSDK_Controller_ call onFail respRtmqData2:",n),i&&i({code:n.code,message:n.message},r)},onTimeout:function(e){se("_MSSDK_Controller_ call onTimeout");var t={traceid:e.traceid,topic:e.topic,method:e.data.method};o&&o({code:-2,message:"服务器超时"},t)}}),this}},{key:"stop",value:function(){return this.netBase.stop(),this}},{key:"onRecv",value:function(e){var t=this;return this.netBase.onRecv((function(n){var r=t._recvDataParse(n),i=r.data,o={traceid:r.traceid,topic:r.topic,time:i.time,method:r.data.method};se("_MSSDK_Controller_ onRecv parseRtmqData:",r),e&&e(i,o)})),this}},{key:"_recvDataParse",value:function(e){var t;switch(se("_MSSDK_Controller_ _recvDataParse rtmqData:",e),e.topic){case q.IM_DATA:case q.PUSH_DATA:t=Object.assign({},e,{data:re(e.data),traceid:e.traceid});break;case q.IM_CMD:t=Object.assign({},e,{data:G(e.data)})}return se("_MSSDK_Controller_ _recvDataParse return parseRtmqData:",t),Object.assign({},e,t)}}])&&Re(t.prototype,n),r&&Re(t,r),e}(),De=n(11),Ae=n.n(De),Ee=n(64),Oe=n.n(Ee);function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe,Ie,ke=function(e){var t=i()(e,"data.data",{}),n={method:e.method,time:(new Date).getTime(),data:t},r=i()(e,"topic",q.IM_DATA),o={traceid:i()(e,"data.traceid",Ae()()),topic:r,data:r===q.IM_CMD?B(e.method,t):ie(n)};return se("_MSSDK_IM_ ".concat(e.method," rtmqData: "),o,"postData: ",n),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({rtmqData:o},Oe()(e.data,["onSuccess","onFail","onTimeout"]))};function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.DISCONNECT=1]="DISCONNECT",e[e.KICKED=2]="KICKED",e[e.FORWARD_FAILED=5]="FORWARD_FAILED",e[e.USER_LOGIN=6]="USER_LOGIN",e[e.USER_LOGOUT=7]="USER_LOGOUT",e[e.SINGLE_CHAT_READED=12]="SINGLE_CHAT_READED",e[e.SINGLE_CHAT_RECALL=14]="SINGLE_CHAT_RECALL",e[e.GROUP_CHAT_RECALL=15]="GROUP_CHAT_RECALL",e[e.SINGLE_CHAT_NOT_DISTURB=16]="SINGLE_CHAT_NOT_DISTURB",e[e.GROUP_CHAT_NOT_DISTURB=17]="GROUP_CHAT_NOT_DISTURB",e[e.SINGLE_CHAT_TOPPING=18]="SINGLE_CHAT_TOPPING",e[e.GROUP_CHAT_TOPPING=18]="GROUP_CHAT_TOPPING",e[e.GROUP_CREATE=100]="GROUP_CREATE",e[e.GROUP_DELETE=101]="GROUP_DELETE",e[e.GROUP_MEMBER_EXIT=102]="GROUP_MEMBER_EXIT",e[e.GROUP_MEMBER_JOIN=103]="GROUP_MEMBER_JOIN",e[e.GROUP_MEMBER_DELETE=104]="GROUP_MEMBER_DELETE",e[e.GROUP_INFO_UPDATE=105]="GROUP_INFO_UPDATE",e[e.GROUP_MEMBER_LOGIN=106]="GROUP_MEMBER_LOGIN",e[e.GROUP_MEMBER_LOGOUT=107]="GROUP_MEMBER_LOGOUT",e[e.ROOM_MEMBER_JOIN=200]="ROOM_MEMBER_JOIN",e[e.ROOM_MEMBER_EXIT=201]="ROOM_MEMBER_EXIT",e[e.ROOM_DELETED=202]="ROOM_DELETED",e[e.ROOM_INFO_UPDATE=203]="ROOM_INFO_UPDATE",e[e.ROOM_MEMBER_BANNED=204]="ROOM_MEMBER_BANNED",e[e.ROOM_MEMBER_UNDO_BANNED=205]="ROOM_MEMBER_UNDO_BANNED",e[e.ROOM_ALL_MEMBER_BANNED=206]="ROOM_ALL_MEMBER_BANNED",e[e.ROOM_ALL_MEMBER_UNDO_BANNED=207]="ROOM_ALL_MEMBER_UNDO_BANNED",e[e.ROOM_MEMBER_JOINED_WHITELIST=208]="ROOM_MEMBER_JOINED_WHITELIST",e[e.ROOM_MEMBER_EXITED_WHITELIST=209]="ROOM_MEMBER_EXITED_WHITELIST"}(xe||(xe={})),function(e){e.MESSAGE_RECV="1",e.NOTICE_RECV="2",e.SINGLE_CMD_RECV="3",e.ROOM_CMD_RECV="4",e.MESSAGE_LIST_RECV="5"}(Ie||(Ie={}));var Ne,Pe=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),je(this,"_im",void 0),je(this,"_net",void 0),je(this,"_event",void 0),je(this,"onMessageRecv",(function(e){r._event.on(Ie.MESSAGE_RECV,e)})),je(this,"onMessageListRecv",(function(e){r._event.on(Ie.MESSAGE_LIST_RECV,e)})),je(this,"onNoticeRecv",(function(e){r._event.on(Ie.NOTICE_RECV,e)})),je(this,"onSingleCommandRecv",(function(e){r._event.on(Ie.SINGLE_CMD_RECV,e)})),je(this,"onRoomCommandRecv",(function(e){r._event.on(Ie.ROOM_CMD_RECV,e)})),je(this,"_run",(function(){r._net.onRecv((function(e,t){t.topic===q.IM_DATA?(r._msgRecvDeal(e,t),r._noticeRecvDeal(e,t)):t.topic===q.IM_CMD&&r._cmdRecvDeal(e,t)}))})),je(this,"_cmdRecvDeal",(function(e,t){var n,i;!function(e){e[e.singleCmdData=0]="singleCmdData"}(n||(n={})),function(e){e[e.roomCmdData=0]="roomCmdData"}(i||(i={}));var o=e.data;e.method in n?r._event.emit(Ie.SINGLE_CMD_RECV,o,t):e.method in i&&r._event.emit(Ie.ROOM_CMD_RECV,o,t)})),je(this,"_msgRecvDeal",(function(e,t){var n;switch(function(e){e.notify="notify",e.singleChat="singleChat",e.groupChat="groupChat",e.pullMessageNotify="pullMessageNotify",e.roomChat="roomChat"}(n||(n={})),e.method){case n.singleChat:r._msgSingleChatDeal(e,t);break;case n.pullMessageNotify:r._msgPullMessageNotifyDeal(e,t);break;case n.groupChat:r._msgGroupChatDeal(e,t);break;case n.notify:r._msgNotifyDeal(e,t);break;case n.roomChat:r._msgRoomChatDeal(e,t)}})),je(this,"_noticeRecvDeal",(function(e,t){var n;!function(e){e[e.notify=0]="notify"}(n||(n={}));var o=e.data,a=i()(r._net,"netBase.initInfo.platform"),s=i()(o,"notify_data.platform"),c="".concat(o.notify_id)==="".concat(xe.KICKED),u="".concat(a)==="".concat(s);e.method in n&&(c&&u&&r._im.logout(),r._event.emit(Ie.NOTICE_RECV,o,t))})),this._net=n,this._im=t,this._event=new ue.a,this._run()}var t,n,r;return t=e,(n=[{key:"_msgSingleChatDeal",value:function(e,t){se("_MSSDK_IM_ _msgSingleChatDeal apiPack:",e);var n=e.data;this._im._saveSeqMap(n.from_id,n.seq_id),13!=+n.msg_type&&4!=+n.msg_type&&this._im._pullSingleMessage({data:{traceid:t.traceid,size:0,uid:n.from_id,seq_id:this._im._getSeqMap(n.from_id),msg_id:[n.msg_id]}}),this._event.emit(Ie.MESSAGE_RECV,n,t)}},{key:"_msgPullMessageNotifyDeal",value:function(e,t){var n;!function(e){e[e.SINGLE_CHAT=1]="SINGLE_CHAT",e[e.GROUP_CHAT=2]="GROUP_CHAT",e[e.CHATROOM_CHAT=3]="CHATROOM_CHAT"}(n||(n={}));var r=e.data;r.target_type===n.SINGLE_CHAT?this._pullMessageNotifySingleDeal(e,t):r.target_type===n.GROUP_CHAT?this._pullMessageNotifyGroupDeal(e,t):r.target_type===n.CHATROOM_CHAT&&this._pullMessageNotifyChatroom(e,t)}},{key:"_pullMessageNotifySingleDeal",value:function(e,t){se("_MSSDK_IM_ _pullMessageNotifySingleDeal apiPack:",e,t);var n=e.data;this._pullSingleMessageLoop(n.target_id,n.size,[])}},{key:"_pullSingleMessageLoop",value:function(e,t,n,r){var i=this;se("_MSSDK_IM_ _pullSingleMessageLoop arguments:",e,t,n),this._im._pullSingleMessage({data:{traceid:r,uid:e,seq_id:this._im._getSeqMap(e),size:t,msg_id:n},onSuccess:function(e,t){se("_MSSDK_IM_ _pullSingleMessage onSuccess:",e,t);var n=e.data;n.length&&i._im._saveSeqMap(e.uid,n[n.length-1].seq_id),0===e.unread?i._im._pullSingleMessage({data:{traceid:t.traceid,uid:e.uid,seq_id:i._im._getSeqMap(e.uid),size:0,msg_id:n.map((function(e){return e.msg_id}))}}):e.unread>0&&i._pullSingleMessageLoop(e.uid,e.unread,e.data.map((function(e){return e.msg_id})),t.traceid),n.map((function(e){i._event.emit(Ie.MESSAGE_RECV,e,t)}))},onFail:function(e,t){se("_MSSDK_IM_ _pullSingleMessage onFail:",e,t)},onTimeout:function(e,t){se("_MSSDK_IM_ _pullSingleMessage onTimeout:",e,t)}})}},{key:"_pullMessageNotifyGroupDeal",value:function(e,t){se("_MSSDK_IM_ _pullMessageNotifyGroupDeal apiPack:",e,t);var n=e.data;this._pullGroupMessageLoop(n.target_id,n.size)}},{key:"_pullMessageNotifyChatroom",value:function(e,t){se("-------chatroom msg pull---------:",e,t);var n=e.data;this._pullRoomMessageLoop(n.target_id,n.size)}},{key:"_pullGroupMessageLoop",value:function(e,t,n){var r=this;se("_MSSDK_IM_ _pullGroupMessageLoop arguments:",e,t),this._im._pullGroupMessage({data:{traceid:n,gid:e,seq_id:this._im._getSeqMap(e),size:t},onSuccess:function(e,t){se("_MSSDK_IM_ _pullGroupMessage onSuccess:",e,t);var n=e.data;n.length&&r._im._saveSeqMap(e.gid,n[n.length-1].seq_id),0===e.unread?r._im._pullGroupMessage({data:{traceid:t.traceid,gid:e.gid,seq_id:r._im._getSeqMap(e.gid),size:0}}):e.unread>0&&r._pullGroupMessageLoop(e.gid,e.unread,t.traceid),n.map((function(e){r._event.emit(Ie.MESSAGE_RECV,e,t)}))},onFail:function(e,t){se("_MSSDK_IM_ _pullGroupMessage onFail:",e,t)},onTimeout:function(e,t){se("_MSSDK_IM_ _pullGroupMessage onTimeout:",e,t)}})}},{key:"_msgGroupChatDeal",value:function(e,t){se("_MSSDK_IM_ _msgGroupChatDeal apiPack:",e);var n=e.data;this._im._saveSeqMap(n.target_id,n.seq_id),13!=+n.msg_type&&4!=+n.msg_type&&this._im._pullGroupMessage({data:{traceid:t.traceid,gid:+n.target_id,seq_id:this._im._getSeqMap(n.target_id),size:0}}),this._event.emit(Ie.MESSAGE_RECV,n,t)}},{key:"_msgNotifyDeal",value:function(e,t){var n=this,r=e.data;1===r.notify_id&&(r.notify_data.single&&r.notify_data.single.length&&r.notify_data.single.map((function(e){n._im._saveSeqMap(e.uid,e.seq_id),n._pullSingleMessageLoop(e.uid,e.size,[])})),r.notify_data.group&&r.notify_data.group.length&&r.notify_data.group.map((function(e){n._im._saveSeqMap(e.gid,e.seq_id),n._pullGroupMessageLoop(e.gid,e.size)})))}},{key:"_msgRoomChatDeal",value:function(e,t){se("_MSSDK_IM_ _msgRoomChatDeal apiPack:",e);var n=e.data;this._im._saveSeqMap(n.from_id,n.seq_id),13!=+n.msg_type&&4!=+n.msg_type&&this._im._pullRoomMessage({data:{traceid:t.traceid,roomid:+n.target_id,seq_id:this._im._getSeqMap(n.target_id),size:0}}),this._event.emit(Ie.MESSAGE_RECV,n,t)}},{key:"_pullRoomMessageLoop",value:function(e,t,n){var r=this;se("_MSSDK_IM_ _pullRoomMessageLoop arguments:",e,t),this._im._pullRoomMessage({data:{traceid:n,roomid:+e,seq_id:this._im._getSeqMap(e),size:t},onSuccess:function(e,t){se("_MSSDK_IM_ _pullRoomMessageLoop onSuccess:",e,t);var n=e.data.filter((function(t){return r._im._saveSeqMap(e.roomid,t.seq_id)}));0===e.unread?r._im._pullRoomMessage({data:{traceid:t.traceid,roomid:e.roomid,seq_id:r._im._getSeqMap(e.roomid),size:0}}):e.unread>0&&r._pullRoomMessageLoop(e.roomid,e.unread,t.traceid),n.length&&(n.length>1?r._event.emit(Ie.MESSAGE_LIST_RECV,n,t):1===n.length&&r._event.emit(Ie.MESSAGE_RECV,n[0],t))},onFail:function(e,t){se("_MSSDK_IM_ _pullRoomMessageLoop onFail:",e,t)},onTimeout:function(e,t){se("_MSSDK_IM_ _pullRoomMessageLoop onTimeout:",e,t)}})}}])&&Ue(t.prototype,n),r&&Ue(t,r),e}();function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.Unknow=0]="Unknow",e[e.Win=1]="Win",e[e.Android=2]="Android",e[e.iOS=3]="iOS",e[e.Web=4]="Web",e[e.SeewoOS=5]="SeewoOS",e[e.Mac=6]="Mac",e[e.Linux=7]="Linux"}(Ne||(Ne={}));var Ke=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ge(this,"isInit",!1),Ge(this,"controller",new Ce),Ge(this,"_seqMap",null),Ge(this,"_distributor",new Pe(this,this.controller))}var t,n,r;return t=e,(n=[{key:"init",value:function(e){var t={host:e.host,appid:e.appid,uid:e.uid,pwd:e.pwd,platform:e.platform,heartbeat:e.heartbeat,isAutoReconnect:e.isAutoReconnect,authInfo:{auth:e.auth},will:e.will};return this.controller.init(t),this.isInit=!0,this}},{key:"login",value:function(){return this._seqMap=new Map,this.controller.start(),this.onNoticeRecv((function(){})),this}},{key:"logout",value:function(){return this.controller.stop(),this}},{key:"callMethod",value:function(e,t){var n=ke({method:e,data:t});this.controller.call(n)}},{key:"createRoom",value:function(e){var t=ke({method:"createRoom",data:e});this.controller.call(t)}},{key:"deleteRoom",value:function(e){var t=ke({method:"deleteRoom",data:e});this.controller.call(t)}},{key:"joinRoom",value:function(e){var t=ke({method:"joinRoom",data:e});this.controller.call(t)}},{key:"quitRoom",value:function(e){var t=ke({method:"quitRoom",data:e});this.controller.call(t)}},{key:"getGroupList",value:function(e){var t=ke({method:"getGroupList",data:e});this.controller.call(t)}},{key:"pullHisSingleMessage",value:function(e){var t=ke({method:"pullHisSingleMessage",data:qe({},e,{data:qe({},e.data,{msg_types:i()(e.data,"msg_types",[1,2,3])})})});this.controller.call(t)}},{key:"pullHisGroupMessage",value:function(e){var t=ke({method:"pullHisGroupMessage",data:qe({},e,{data:qe({},e.data,{msg_types:i()(e.data,"msg_types",[1,2,3])})})});this.controller.call(t)}},{key:"pullHisRoomMessage",value:function(e){var t=ke({method:"pullHisRoomMessage",data:qe({},e,{data:qe({},e.data,{msg_types:i()(e.data,"msg_types",[1,2,3])})})});this.controller.call(t)}},{key:"sendRoomMessage",value:function(e){this._chat("roomChat",e)}},{key:"sendGroupMessage",value:function(e){this._chat("groupChat",e)}},{key:"sendSingleMessage",value:function(e){this._chat("singleChat",e)}},{key:"getRoomMemberSize",value:function(e){var t=ke({method:"getRoomMemberSize",data:e});this.controller.call(t)}},{key:"getRoomMember",value:function(e){var t=ke({method:"getRoomMember",data:e});this.controller.call(t)}},{key:"onMessageRecv",value:function(e){return this._distributor.onMessageRecv(e),this}},{key:"onMessageListRecv",value:function(e){return this._distributor.onMessageListRecv(e),this}},{key:"onNoticeRecv",value:function(e){return this._distributor.onNoticeRecv(e),this}},{key:"onSingleCommandRecv",value:function(e){return this._distributor.onSingleCommandRecv(e),this}},{key:"onRoomCommandRecv",value:function(e){return this._distributor.onRoomCommandRecv(e),this}},{key:"getIsConnected",value:function(){return this.controller.getIsConnected()}},{key:"onConnect",value:function(e){return this.controller.onConnect(e),this}},{key:"onDisconnect",value:function(e){return this.controller.onDisconnect(e),this}},{key:"_pullSingleMessageLoop",value:function(e,t,n,r,i){var o=this;se("_MSSDK_IM_ _pullSingleMessageLoop arguments:",e,t,n),this._pullSingleMessage({data:{traceid:i,uid:e,seq_id:this._getSeqMap(e),size:t,msg_id:n},onSuccess:function(e,t){se("_MSSDK_IM_ _pullSingleMessage onSuccess:",e,t);var n=e.data;n.length&&o._saveSeqMap(e.uid,n[n.length-1].seq_id),0===e.unread?o._pullSingleMessage({data:{traceid:t.traceid,uid:e.uid,seq_id:o._getSeqMap(e.uid),size:0,msg_id:n.map((function(e){return e.msg_id}))}}):e.unread>0&&o._pullSingleMessageLoop(e.uid,e.unread,e.data.map((function(e){return e.msg_id})),r,t.traceid),n.map((function(e){r&&r(e,t)}))},onFail:function(e,t){se("_MSSDK_IM_ _pullSingleMessage onFail:",e,t)},onTimeout:function(e,t){se("_MSSDK_IM_ _pullSingleMessage onTimeout:",e,t)}})}},{key:"_pullGroupMessageLoop",value:function(e,t,n,r){var i=this;se("_MSSDK_IM_ _pullGroupMessageLoop arguments:",e,t),this._pullGroupMessage({data:{traceid:r,gid:e,seq_id:this._getSeqMap(e),size:t},onSuccess:function(e,t){se("_MSSDK_IM_ _pullGroupMessage onSuccess:",e,t);var r=e.data;r.length&&i._saveSeqMap(e.gid,r[r.length-1].seq_id),0===e.unread?i._pullGroupMessage({data:{traceid:t.traceid,gid:e.gid,seq_id:i._getSeqMap(e.gid),size:0}}):e.unread>0&&i._pullGroupMessageLoop(e.gid,e.unread,n,t.traceid),r.map((function(e){n&&n(e,t)}))},onFail:function(e,t){se("_MSSDK_IM_ _pullGroupMessage onFail:",e,t)},onTimeout:function(e,t){se("_MSSDK_IM_ _pullGroupMessage onTimeout:",e,t)}})}},{key:"_pullGroupMessage",value:function(e){var t=ke({method:"pullGroupMessage",data:e});this.controller.call(t)}},{key:"_pullRoomMessageLoop",value:function(e,t,n,r){var i=this;se("_MSSDK_IM_ _pullRoomMessageLoop arguments:",e,t),this._pullRoomMessage({data:{traceid:r,roomid:e,seq_id:this._getSeqMap(e),size:t},onSuccess:function(e,t){se("_MSSDK_IM_ _pullGroupMessage onSuccess:",e,t);var r=e.data;r.length&&i._saveSeqMap(e.roomid,r[r.length-1].seq_id),0===e.unread?i._pullRoomMessage({data:{traceid:t.traceid,roomid:e.roomid,seq_id:i._getSeqMap(e.roomid),size:0}}):e.unread>0&&i._pullRoomMessageLoop(e.roomid,e.unread,n,t.traceid),r.map((function(e){n&&n(e,t)}))},onFail:function(e,t){se("_MSSDK_IM_ _pullGroupMessage onFail:",e,t)},onTimeout:function(e,t){se("_MSSDK_IM_ _pullGroupMessage onTimeout:",e,t)}})}},{key:"_pullRoomMessage",value:function(e){var t=ke({method:"pullRoomMessage",data:e});this.controller.call(t)}},{key:"_pullSingleMessage",value:function(e){var t=ke({method:"pullSingleMessage",data:e});this.controller.call(t)}},{key:"_saveSeqMap",value:function(e,t){var n=this._seqMap.get(""+e),r=!1;return n?t>n&&(this._seqMap.set(""+e,t),r=!0):(this._seqMap.set(""+e,t),r=!0),r}},{key:"_getSeqMap",value:function(e){return this._seqMap.get(""+e)||0}},{key:"_chat",value:function(e,t){var n;!function(e){e[e.singleChat=1]="singleChat",e[e.groupChat=2]="groupChat",e[e.roomChat=3]="roomChat"}(n||(n={}));var r=i()(t,"data.msg_body","");if(function(e,t){var n,r,i,o=0;if("utf-16"===(t=t?t.toLowerCase():"")||"utf16"===t)for(r=0,i=e.length;r<i;r++)o+=(n=e.charCodeAt(r))<=65535?2:4;else for(r=0,i=e.length;r<i;r++)o+=(n=e.charCodeAt(r))<=127?1:n<=2047?2:n<=65535?3:4;return o}(JSON.stringify(r))>10240){var o=i()(t,"onFail");return o&&o({code:-3,message:"内容过多，超过限制"})}var a=ke({method:e,data:qe({},t,{data:qe({},t.data,{target_type:n[e]})})});this.controller.call(a)}},{key:"createGroup",value:function(e){var t=ke({method:"createGroup",data:e});this.controller.call(t)}},{key:"deleteGroup",value:function(e){var t=ke({method:"deleteGroup",data:e});this.controller.call(t)}},{key:"getGroupInfo",value:function(e){var t=ke({method:"getGroupInfo",data:e});this.controller.call(t)}},{key:"setGroupMemberMaxSize",value:function(e){var t=ke({method:"setGroupMemberMaxSize",data:e});this.controller.call(t)}},{key:"setGroupName",value:function(e){var t=ke({method:"setGroupName",data:e});this.controller.call(t)}},{key:"setGroupNotice",value:function(e){var t=ke({method:"setGroupNotice",data:e});this.controller.call(t)}},{key:"getGroupMember",value:function(e){var t=ke({method:"getGroupMember",data:e});this.controller.call(t)}},{key:"getGroupMemberSize",value:function(e){var t=ke({method:"getGroupMemberSize",data:e});this.controller.call(t)}},{key:"addGroupMember",value:function(e){var t=ke({method:"addGroupMember",data:e});this.controller.call(t)}},{key:"removeGroupMember",value:function(e){var t=ke({method:"removeGroupMember",data:e});this.controller.call(t)}},{key:"quitGroup",value:function(e){var t=ke({method:"quitGroup",data:e});this.controller.call(t)}},{key:"setGroupNotDisturb",value:function(e){var t=ke({method:"setGroupNotDisturb",data:e});this.controller.call(t)}},{key:"getGroupNotDisturbList",value:function(e){var t=ke({method:"getGroupNotDisturbList",data:e});this.controller.call(t)}},{key:"setUserNotDisturb",value:function(e){var t=ke({method:"setUserNotDisturb",data:e});this.controller.call(t)}},{key:"setUserConversation",value:function(e){var t=ke({method:"setUserConversation",data:e});this.controller.call(t)}},{key:"getUserConversationList",value:function(e){var t=ke({method:"getUserConversationList",data:e});this.controller.call(t)}},{key:"setUserConversationTop",value:function(e){var t=ke({method:"setUserConversationTop",data:e});this.controller.call(t)}},{key:"setGroupConversation",value:function(e){var t=ke({method:"setGroupConversation",data:e});this.controller.call(t)}},{key:"getGroupConversationList",value:function(e){var t=ke({method:"getGroupConversationList",data:e});this.controller.call(t)}},{key:"setGroupConversationTop",value:function(e){var t=ke({method:"setGroupConversationTop",data:e});this.controller.call(t)}},{key:"setGroupOwner",value:function(e){var t=ke({method:"setGroupOwner",data:e});this.controller.call(t)}},{key:"recallMessage",value:function(e){var t=ke({method:"recallMessage",data:e});this.controller.call(t)}},{key:"setGroupReadSeqid",value:function(e){var t=ke({method:"setGroupReadSeqid",data:e});this.controller.call(t)}},{key:"setSingleReadSeqid",value:function(e){var t=ke({method:"setSingleReadSeqid",data:e});this.controller.call(t)}},{key:"sendIMSingleCommand",value:function(e){var t=ke({method:"singleCmd",data:e,topic:q.IM_CMD});this.controller.call(t)}},{key:"sendIMRoomCommand",value:function(e){var t=ke({method:"roomCmd",data:e,topic:q.IM_CMD});this.controller.call(t)}},{key:"pullHisRoomCommand",value:function(e){var t=ke({method:"pullHisRoomCmd",data:e,topic:q.IM_CMD});this.controller.call(t)}}])&&Be(t.prototype,n),r&&Be(t,r),e}();function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ze=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),He(this,"isInit",void 0),He(this,"controller",void 0),He(this,"_seqMap",void 0),this.isInit=!1,this.controller=new Ce,this._seqMap=null}var t,n,r;return t=e,(n=[{key:"init",value:function(e){return Object.assign(e,{authInfo:{auth:e.auth}}),this.controller.init(e).start(),this.isInit=!0,this}},{key:"getIsConnected",value:function(){return this.controller.getIsConnected()}},{key:"onConnect",value:function(e){return this.controller.onConnect(e),this}},{key:"onDisconnect",value:function(e){return this.controller.onDisconnect(e),this}},{key:"onPushMessage",value:function(e){var t=this;return this.controller.onRecv((function(n,r){se("_MSSDK_Push_ onPushMessage onRecv :",n,r),r.topic===q.PUSH_DATA&&("notify"===n.method?1===n.data.notify_id&&n.data.notify_data&&n.data.notify_data.message&&t._recvNotifyMessage(n,r):"message"!==n.method&&"offMessage"!==n.method||t._recvMessage(n,r,e))})),this}},{key:"stopPush",value:function(){return this}},{key:"resumePush",value:function(){return this}},{key:"isPushStopped",value:function(){return this}},{key:"openMessage",value:function(){return this}},{key:"setAlias",value:function(e){var t=e.data,n=e.onSuccess,r=e.onFail,i=e.onTimeout,o={method:"setAlias",time:(new Date).getTime(),data:{alias:t.alias}};se("_MSSDK_Push_ setAlias rtmqData",o);var a={traceid:Ae()(),topic:q.PUSH_DATA,data:ie(o)};se("_MSSDK_Push_ setAlias rtmqData",a),this.controller.call({rtmqData:a,onSuccess:n,onFail:r,onTimeout:i})}},{key:"setTags",value:function(){return this}},{key:"addTags",value:function(){return this}},{key:"deleteTags",value:function(){return this}},{key:"cleanTags",value:function(){return this}},{key:"getTags",value:function(){return this}},{key:"_pullMessage",value:function(e){var t=e.data,n=e.onSuccess,r=e.onFail,i=e.onTimeout,o={method:"pullMessage",time:(new Date).getTime(),size:t.size,data:{seq_id:t.seq_id}},a={traceid:Ae()(),topic:q.PUSH_DATA,ack:!0,data:ie(o)};se("_MSSDK_Push_ _pullMessage rtmqData",a),this.controller.send({rtmqData:a,onSuccess:n,onFail:r,onTimeout:i})}},{key:"_emitServerPushMessage",value:function(e){se("_MSSDK_Push_ _emitServerPushMessage enter seq_id:",e),this._pullMessage({data:{size:1,seq_id:e},onSuccess:function(e,t){se("_MSSDK_Push_ _emitServerPushMessage onSuccess code=0:",e,t)},onFail:function(e){se("_MSSDK_Push_ _emitServerPushMessage onFail data:",e)},onTimeout:function(){se("_MSSDK_Push_ _emitServerPushMessage onTimeout")}})}},{key:"_recvNotifyMessage",value:function(e,t){se("_MSSDK_Push_ _recvNotifyMessage enter:",e,t);var n=e.data.notify_data.message,r=n.seq_id;n.size<1||this._emitServerPushMessage(r)}},{key:"_recvMessage",value:function(e,t,n){if(se("_MSSDK_Push_ _recvMessage enter:",e,t),e.data.content&&e.data.content.length){var r=e.data.content[0];"String"===ae(r)&&(r=JSON.parse(r)),n&&n(r,t);var i=e.data.content[0].msg_id;this._emitServerPushMessage(i)}}}])&&We(t.prototype,n),r&&We(t,r),e}();t.default={IM:Ke,Push:ze,NetBase:Me}}])}));
//# sourceMappingURL=MsSDK-4.5.3.min.js.map